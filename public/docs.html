<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Developer Documentation - Design System Manager</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    <style>
        :root {
            /* Light theme */
            --bg-primary: #fafafa;
            --bg-secondary: #ffffff;
            --text-primary: #333;
            --text-secondary: #666;
            --border-color: #e1e5e9;
            --accent-color: #7e22ce;
            --accent-hover: #581c87;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            --card-bg: #ffffff;
            --input-bg: #ffffff;
            --code-bg: #f8f9fa;
            --danger-color: #dc3545;
            --danger-hover: #c82333;

            /* Spacing tokens based on 8px scale */
            --spacing-1: 8px;
            --spacing-2: 16px;
            --spacing-3: 24px;
            --spacing-4: 32px;
            --spacing-5: 40px;
            --spacing-6: 48px;
            --spacing-7: 56px;
            --spacing-8: 64px;
            --spacing-9: 72px;
            --spacing-10: 80px;
            --spacing-11: 88px;
            --spacing-12: 96px;
            --spacing-13: 104px;
            --spacing-14: 112px;
            --spacing-15: 120px;
            --spacing-16: 128px;
            --spacing-17: 136px;
            --spacing-18: 144px;
            --spacing-19: 152px;
            --spacing-20: 160px;
        }

        [data-theme="dark"] {
            /* Dark theme */
            --bg-primary: #1a1a1a;
            --bg-secondary: #031B20;
            --text-primary: #EAEEEF;
            --text-secondary: #b0b0b0;
            --border-color: #404040;
            --accent-color: #c084fc;
            --accent-hover: #d8b4fe;
            --shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
            --card-bg: #031B20;
            --input-bg: #1f2121;
            --code-bg: #1E1E1E;
            --danger-color: #ef4444;
            --danger-hover: #dc2626;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--bg-primary);
            min-height: 100vh;
            color: var(--text-primary);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        /* Apply JetBrains Mono to all headers */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'JetBrains Mono', monospace;
        }

        /* Button Styles */
        .btn {
            font-family: 'JetBrains Mono', monospace;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            min-height: 44px;
            min-width: 80px;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover {
            background: var(--accent-hover);
            color: var(--bg-primary);
        }

        .btn-primary-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        .btn-primary-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-secondary {
            background: var(--card-bg);
            color: var(--accent-color);
            border: 1px solid var(--accent-color);
        }

        .btn-secondary:hover {
            background: var(--accent-hover);
            color: var(--bg-primary);
        }

        .btn-danger {
            background: transparent;
            color: #D8001B;
            border: 2px solid #D8001B;
        }

        .btn-danger:hover {
            background: #D8001B;
            color: white;
            transform: translateY(-1px);
        }

        .btn-sm {
            padding: 8px 16px;
            font-size: 12px;
            min-height: 36px;
            min-width: 60px;
        }

        /* Dark mode button styles */
        [data-theme="dark"] .btn-primary {
            background: var(--primary);
            color: black;
        }

        [data-theme="dark"] .btn-primary:hover {
            background: var(--accent-hover);
            color: black;
        }

        [data-theme="dark"] .btn-primary-outline {
            background: transparent;
            color: var(--primary);
            border: 2px solid var(--primary);
        }

        [data-theme="dark"] .btn-primary-outline:hover {
            background: var(--primary);
            color: black;
        }

        [data-theme="dark"] .btn-secondary:hover {
            background: var(--accent-hover);
            color: black;
        }

        /* Dark mode sidebar navigation button styles */
        [data-theme="dark"] .sidebar-nav-item.active {
            background: var(--accent-color);
            color: black;
        }

        [data-theme="dark"] .sidebar-nav-item.active:hover {
            background: var(--accent-hover);
            color: black;
        }

        /* Lucide icon styles */
        [data-lucide] {
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        .btn [data-lucide] {
            width: 16px;
            height: 16px;
        }

        h4 [data-lucide] {
            width: 16px;
            height: 16px;
            vertical-align: middle;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        .sidebar-nav {
            width: 280px;
            background: var(--card-bg);
            border-right: 1px solid var(--border-color);
            padding: var(--spacing-3);
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            overflow-y: auto;
            z-index: 100;
        }

        .main-dashboard {
            flex: 1;
            margin-left: 280px;
            padding: var(--spacing-4);
        }

        .header {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 10px;
        }

        [data-theme="dark"] .header h1 {
            color: white;
        }

        .header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .sidebar-nav-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-bottom: 8px;
            color: var(--text-secondary);
            text-decoration: none;
        }

        .sidebar-nav-item:hover {
            background: var(--bg-secondary);
            color: var(--accent-color);
        }

        .sidebar-nav-item.active {
            background: var(--accent-color);
            color: white;
        }

        .sidebar-nav-item i {
            width: 18px;
            height: 18px;
        }

        .sidebar-section {
            margin-bottom: 30px;
        }

        .sidebar-section h3 {
            font-size: 0.875rem;
            font-weight: 600;
            color: var(--text-secondary);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 12px;
            padding-left: 16px;
        }

        .content-section {
            background: var(--card-bg);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--border-color);
        }

        .content-section h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent-color);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .content-section h3 {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 25px 0 15px 0;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .content-section h4 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 20px 0 10px 0;
        }

        .content-section p {
            margin-bottom: 15px;
            color: var(--text-secondary);
        }

        .content-section ul, .content-section ol {
            margin: 15px 0;
            padding-left: 25px;
        }

        .content-section li {
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        .code-block {
            background: #1e1e1e;
            border: 1px solid #333;
            border-radius: 8px;
            margin: 20px 0;
            overflow: hidden;
            font-family: 'JetBrains Mono', 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.5;
            position: relative;
        }

        .code-block-header {
            background: #031B20;
            border-bottom: 1px solid #333;
            padding: 8px 16px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.8rem;
            color: #ccc;
        }

        .code-block-title {
            font-weight: 500;
            color: #fff;
        }

        .code-block-actions {
            display: flex;
            gap: 8px;
        }

        .copy-btn {
            background: #404040;
            border: none;
            border-radius: 4px;
            padding: 4px 8px;
            color: #ccc;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .copy-btn:hover {
            background: #505050;
            color: #fff;
        }

        .copy-btn.copied {
            background: #4caf50;
            color: #fff;
        }

        .code-block pre {
            margin: 0;
            padding: 16px;
            color: #d4d4d4;
            overflow-x: auto;
        }

        .code-block code {
            color: #d4d4d4;
        }

        /* Syntax highlighting colors */
        .code-block .keyword { color: #569cd6; }
        .code-block .string { color: #ce9178; }
        .code-block .number { color: #b5cea8; }
        .code-block .comment { color: #6a9955; }
        .code-block .function { color: #dcdcaa; }
        .code-block .operator { color: #d4d4d4; }

        [data-theme="dark"] .code-block {
            background: #1E1E1E;
            border-color: #031B20;
        }

        [data-theme="dark"] .code-block-header {
            background: #161b22;
            border-bottom-color: #031B20;
        }

        .inline-code {
            background: var(--code-bg);
            border: 1px solid var(--border-color);
            border-radius: 4px;
            padding: 2px 6px;
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            font-size: 0.9rem;
            color: var(--accent-color);
        }

        .alert {
            padding: 15px 20px;
            border-radius: 8px;
            margin: 20px 0;
            border-left: 4px solid;
        }

        .alert.info {
            background: #e3f2fd;
            border-left-color: #2196f3;
            color: #1565c0;
        }

        .alert.warning {
            background: #fff3e0;
            border-left-color: #ff9800;
            color: #e65100;
        }

        .alert.success {
            background: #e8f5e8;
            border-left-color: #4caf50;
            color: #2e7d32;
        }

        .alert.error {
            background: #ffebee;
            border-left-color: #f44336;
            color: #c62828;
        }

        [data-theme="dark"] .alert.info {
            background: #1e3a5f;
            color: #90caf9;
        }

        [data-theme="dark"] .alert.warning {
            background: #5d4037;
            color: #ffcc02;
        }

        [data-theme="dark"] .alert.success {
            background: #2e4a2e;
            color: #81c784;
        }

        [data-theme="dark"] .alert.error {
            background: #4a2e2e;
            color: #e57373;
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .feature-card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 20px;
        }

        .feature-card h4 {
            color: var(--accent-color);
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .feature-card p {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .api-endpoint {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
        }

        .api-endpoint .method {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            font-weight: 600;
            text-transform: uppercase;
            margin-right: 10px;
        }

        .api-endpoint .method.get { background: #e3f2fd; color: #1565c0; }
        .api-endpoint .method.post { background: #e8f5e8; color: #2e7d32; }
        .api-endpoint .method.put { background: #fff3e0; color: #e65100; }
        .api-endpoint .method.delete { background: #ffebee; color: #c62828; }

        .api-endpoint .url {
            font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
            color: var(--accent-color);
        }

        .theme-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--card-bg);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .theme-toggle:hover {
            background: var(--bg-secondary);
        }

        .theme-toggle i {
            width: 20px;
            height: 20px;
            color: var(--text-secondary);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .table th, .table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }

        .table th {
            background: var(--bg-secondary);
            font-weight: 600;
            color: var(--text-primary);
        }

        .table td {
            color: var(--text-secondary);
        }

        .back-link {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 500;
            margin-bottom: 20px;
        }

        .back-link:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>


    <div class="container">
        <!-- Sidebar Navigation -->
        <div class="sidebar-nav">
            <!-- Logo/Brand -->
            <div style="margin-bottom: 30px; padding: 0 16px;">
                <h2 style="color: var(--accent-color); font-size: 1.5rem; font-weight: 700;">Documentation</h2>
                <p style="color: var(--text-secondary); font-size: 0.875rem;">Developer Guide</p>
            </div>

            <!-- Navigation -->
            <div class="sidebar-section">
                <h3>Getting Started</h3>
                <div class="sidebar-nav-item active" onclick="scrollToSection('installation')">
                    <i data-lucide="download"></i>
                    <span>Installation</span>
                </div>
                <div class="sidebar-nav-item" onclick="scrollToSection('quick-start')">
                    <i data-lucide="zap"></i>
                    <span>Quick Start</span>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>API Reference</h3>
                <div class="sidebar-nav-item" onclick="scrollToSection('api-reference')">
                    <i data-lucide="book-open"></i>
                    <span>API Reference</span>
                </div>
                <div class="sidebar-nav-item" onclick="scrollToSection('authentication')">
                    <i data-lucide="shield"></i>
                    <span>Authentication</span>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Core Features</h3>
                <div class="sidebar-nav-item" onclick="scrollToSection('components')">
                    <i data-lucide="layers"></i>
                    <span>Components</span>
                </div>
                <div class="sidebar-nav-item" onclick="scrollToSection('tokens')">
                    <i data-lucide="palette"></i>
                    <span>Design Tokens</span>
                </div>
            </div>

            <div class="sidebar-section">
                <h3>Integration</h3>
                <div class="sidebar-nav-item" onclick="scrollToSection('integration')">
                    <i data-lucide="link"></i>
                    <span>Integration</span>
                </div>
                <div class="sidebar-nav-item" onclick="scrollToSection('examples')">
                    <i data-lucide="code-2"></i>
                    <span>Examples</span>
                </div>
            </div>

            <!-- Navigation -->
            <div class="sidebar-section">
                <h3>Navigation</h3>
                <div class="sidebar-nav-item" onclick="window.location.href='/components'">
                    <i data-lucide="layers"></i>
                    <span>Components Manager</span>
                </div>
            </div>

            <!-- Theme Toggle -->
            <div class="sidebar-section">
                <h3>Settings</h3>
                <div class="sidebar-nav-item" onclick="toggleTheme()">
                    <i data-lucide="moon" id="theme-icon"></i>
                    <span id="theme-text">Dark Mode</span>
                </div>
            </div>
        </div>

        <!-- Main Dashboard -->
        <div class="main-dashboard">
            <a href="/components" class="back-link">
                <i data-lucide="arrow-left"></i>
                Back to Design System Manager
            </a>

            <div class="header">
                <h1>Developer Documentation</h1>
                <p>Complete guide to installing, configuring, and using the Design System Manager API</p>
            </div>

        <div id="installation" class="content-section">
            <h2><i data-lucide="download"></i>Installation</h2>
            
            <h3><i data-lucide="git-branch"></i>Prerequisites</h3>
            <ul>
                <li>Node.js (v14 or higher)</li>
                <li>npm or yarn package manager</li>
                <li>MongoDB database (local or cloud)</li>
            </ul>

            <h3><i data-lucide="terminal"></i>Setup Steps</h3>
            
            <h4>1. Clone the Repository</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Terminal</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>git clone https://github.com/your-username/design-system-manager.git
cd design-system-manager</code></pre>
            </div>

            <h4>2. Install Dependencies</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Terminal</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>npm install</code></pre>
            </div>

            <h4>3. Configure Environment</h4>
            <p>Create a <span class="inline-code">.env</span> file in the root directory:</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Environment Variables</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code># Database Configuration
MONGODB_URI=mongodb://localhost:27017/design-system
# or for MongoDB Atlas:
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/design-system

# JWT Secret
JWT_SECRET=your-super-secret-jwt-key-here

# Server Configuration
PORT=3000
NODE_ENV=development

# CORS Configuration (optional)
CORS_ORIGIN=http://localhost:3000</code></pre>
            </div>

            <h4>4. Start the Server</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Terminal</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code># Development mode
npm run dev

# Production mode
npm start</code></pre>
            </div>

            <div class="alert success">
                <strong>Success!</strong> Your Design System Manager is now running at <span class="inline-code">http://localhost:3000</span>
            </div>
        </div>

        <div id="quick-start" class="content-section">
            <h2><i data-lucide="zap"></i>Quick Start</h2>
            
            <h3><i data-lucide="user-plus"></i>1. Create Admin User</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>curl -X POST http://localhost:3000/api/auth/register \
  -H "Content-Type: application/json" \
  -d '{
    "username": "admin",
    "email": "admin@example.com",
    "password": "admin123",
    "role": "admin"
  }'</code></pre>
            </div>

            <h3><i data-lucide="log-in"></i>2. Login to Get Token</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>curl -X POST http://localhost:3000/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{
    "email": "admin@example.com",
    "password": "admin123"
  }'</code></pre>
            </div>

            <h3><i data-lucide="plus"></i>3. Create Your First Component</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>curl -X POST http://localhost:3000/api/components \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "name": "Primary Button",
    "type": "button",
    "description": "Main call-to-action button",
    "status": "active",
    "tags": ["button", "primary", "cta"],
    "code": {
      "react": "function PrimaryButton({ children, onClick }) { return <button className=\"btn-primary\" onClick={onClick}>{children}</button>; }",
      "html": "<button class=\"btn-primary\">Click me</button>"
    },
    "styles": {
      "css": ".btn-primary { background: var(--accent-color); color: white; padding: 12px 24px; border: none; border-radius: 6px; cursor: pointer; }"
    }
  }'</code></pre>
            </div>

            <h3><i data-lucide="palette"></i>4. Create Your First Token</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>curl -X POST http://localhost:3000/api/tokens \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer YOUR_JWT_TOKEN" \
  -d '{
    "name": "primary-color",
    "category": "color",
                    "value": "#7e22ce",
    "description": "Primary brand color",
    "tags": ["color", "primary", "brand"]
  }'</code></pre>
            </div>
        </div>

        <div id="api-reference" class="content-section">
            <h2><i data-lucide="book-open"></i>API Reference</h2>
            
            <h3><i data-lucide="server"></i>Base URL</h3>
            <p>All API endpoints are prefixed with: <span class="inline-code">http://localhost:3000/api</span></p>

            <h3><i data-lucide="shield"></i>Authentication</h3>
            <p>Most endpoints require authentication. Include the JWT token in the Authorization header:</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>Authorization: Bearer YOUR_JWT_TOKEN</code></pre>
            </div>

            <h3><i data-lucide="layers"></i>Components API</h3>
            
            <div class="api-endpoint">
                <span class="method get">GET</span>
                <span class="url">/api/components</span>
                <p>Get all components with optional filtering</p>
            </div>

            <div class="api-endpoint">
                <span class="method post">POST</span>
                <span class="url">/api/components</span>
                <p>Create a new component</p>
            </div>

            <div class="api-endpoint">
                <span class="method get">GET</span>
                <span class="url">/api/components/:id</span>
                <p>Get a specific component by ID</p>
            </div>

            <div class="api-endpoint">
                <span class="method put">PUT</span>
                <span class="url">/api/components/:id</span>
                <p>Update a component</p>
            </div>

            <div class="api-endpoint">
                <span class="method delete">DELETE</span>
                <span class="url">/api/components/:id</span>
                <p>Delete a component</p>
            </div>

            <h3><i data-lucide="palette"></i>Tokens API</h3>
            
            <div class="api-endpoint">
                <span class="method get">GET</span>
                <span class="url">/api/tokens</span>
                <p>Get all design tokens</p>
            </div>

            <div class="api-endpoint">
                <span class="method post">POST</span>
                <span class="url">/api/tokens</span>
                <p>Create a new design token</p>
            </div>

            <div class="api-endpoint">
                <span class="method put">PUT</span>
                <span class="url">/api/tokens/:id</span>
                <p>Update a design token</p>
            </div>

            <div class="api-endpoint">
                <span class="method delete">DELETE</span>
                <span class="url">/api/tokens/:id</span>
                <p>Delete a design token</p>
            </div>
        </div>

        <div id="authentication" class="content-section">
            <h2><i data-lucide="shield"></i>Authentication</h2>
            
            <h3><i data-lucide="user-plus"></i>User Registration</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JSON</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>POST /api/auth/register
Content-Type: application/json

{
  "username": "developer",
  "email": "dev@example.com",
  "password": "securepassword",
  "role": "admin"
}</code></pre>
            </div>

            <h3><i data-lucide="log-in"></i>User Login</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JSON</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>POST /api/auth/login
Content-Type: application/json

{
  "email": "dev@example.com",
  "password": "securepassword"
}

// Response:
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user": {
    "id": "user_id",
    "email": "dev@example.com",
    "role": "admin"
  }
}</code></pre>
            </div>

            <h3><i data-lucide="key"></i>Using JWT Tokens</h3>
            <p>Include the JWT token in all authenticated requests:</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// JavaScript/Fetch
const response = await fetch('/api/components', {
  headers: {
    'Authorization': `Bearer ${token}`,
    'Content-Type': 'application/json'
  }
});

// cURL
curl -H "Authorization: Bearer YOUR_TOKEN" \
     -H "Content-Type: application/json" \
     http://localhost:3000/api/components</code></pre>
            </div>
        </div>

        <div id="components" class="content-section">
            <h2><i data-lucide="layers"></i>Components</h2>
            
            <h3><i data-lucide="file-text"></i>Component Schema</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>{
  "name": "string",           // Required: Component name
  "type": "string",           // Required: Component type (button, card, form, etc.)
  "description": "string",    // Optional: Component description
  "status": "string",         // Required: active, draft, deprecated
  "tags": ["string"],         // Optional: Array of tags
  "props": [                  // Optional: Component properties
    {
      "name": "string",
      "type": "string",
      "required": "boolean",
      "defaultValue": "any"
    }
  ],
  "code": {                   // Required: Component code
    "react": "string",        // React component code
    "html": "string"          // HTML markup
  },
  "styles": {                 // Required: Component styles
    "css": "string"           // CSS styles
  },
  "theme": "string",          // Optional: both, light, dark
  "customTheme": {            // Optional: Custom theme variables
    "light": {
      "bg": "string",
      "text": "string",
      "accent": "string"
    },
    "dark": {
      "bg": "string",
      "text": "string",
      "accent": "string"
    }
  }
}</code></pre>
            </div>

            <h3><i data-lucide="search"></i>Filtering and Search</h3>
            <p>Query parameters for filtering components:</p>
            <table class="table">
                <thead>
                    <tr>
                        <th>Parameter</th>
                        <th>Type</th>
                        <th>Description</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>search</td>
                        <td>string</td>
                        <td>Search in name, description, and tags</td>
                    </tr>
                    <tr>
                        <td>type</td>
                        <td>string</td>
                        <td>Filter by component type</td>
                    </tr>
                    <tr>
                        <td>status</td>
                        <td>string</td>
                        <td>Filter by status (active, draft, deprecated)</td>
                    </tr>
                    <tr>
                        <td>tags</td>
                        <td>string</td>
                        <td>Filter by tags (comma-separated)</td>
                    </tr>
                    <tr>
                        <td>page</td>
                        <td>number</td>
                        <td>Page number for pagination</td>
                    </tr>
                    <tr>
                        <td>limit</td>
                        <td>number</td>
                        <td>Number of items per page</td>
                    </tr>
                </tbody>
            </table>

            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Example: Search for active button components
GET /api/components?search=button&status=active&type=button&page=1&limit=10</code></pre>
            </div>
        </div>

        <div id="tokens" class="content-section">
            <h2><i data-lucide="palette"></i>Design Tokens</h2>
            
            <h3><i data-lucide="file-text"></i>Token Schema</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>{
  "name": "string",           // Required: Token name
  "category": "string",       // Required: color, spacing, typography, elevation, corners
  "value": "string",          // Required: Token value
  "description": "string",    // Optional: Token description
  "tags": ["string"],         // Optional: Array of tags
  "theme": "string",          // Optional: both, light, dark
  "lightValue": "string",     // Optional: Light theme value
  "darkValue": "string"       // Optional: Dark theme value
}</code></pre>
            </div>

            <h3><i data-lucide="categories"></i>Token Categories</h3>
            <div class="feature-grid">
                <div class="feature-card">
                    <h4><i data-lucide="palette"></i>Color</h4>
                    <p>Hex colors, RGB values, and color names for consistent theming</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="move"></i>Spacing</h4>
                    <p>Margin, padding, and layout spacing values</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="type"></i>Typography</h4>
                    <p>Font sizes, line heights, and font weights</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="layers"></i>Elevation</h4>
                    <p>Shadow values, z-index, and depth indicators</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="corner-down-right"></i>Corners</h4>
                    <p>Border radius values for consistent corner styling</p>
                </div>
            </div>

            <h3><i data-lucide="upload"></i>Import/Export</h3>
            <p>Import and export tokens in JSON format:</p>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Export tokens
GET /api/tokens/export

// Import tokens
POST /api/tokens/import
Content-Type: application/json

{
  "tokens": [
    {
      "name": "primary-color",
      "category": "color",
                      "value": "#7e22ce"
    }
  ]
}</code></pre>
            </div>
        </div>

        <div id="integration" class="content-section">
            <h2><i data-lucide="link"></i>Integration</h2>
            
            <h3><i data-lucide="download"></i>Installing the API Client</h3>
            
            <h4>NPM Package (Recommended)</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Terminal</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>npm install design-system-manager-api

# or with yarn
yarn add design-system-manager-api</code></pre>
            </div>

            <h4>CDN Import</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">Terminal</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>&lt;script src="https://unpkg.com/design-system-manager-api@latest/dist/bundle.js"&gt;&lt;/script&gt;</code></pre>
            </div>

            <h4>Direct Import</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// ES6 Module
import { DesignSystemAPI } from './design-system-manager-api.js';

// CommonJS
const { DesignSystemAPI } = require('./design-system-manager-api.js');</code></pre>
            </div>

            <h3><i data-lucide="code"></i>JavaScript Client</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>class DesignSystemAPI {
  constructor(baseURL, token) {
    this.baseURL = baseURL;
    this.token = token;
  }

  async getComponents(filters = {}) {
    const params = new URLSearchParams(filters);
    const response = await fetch(`${this.baseURL}/api/components?${params}`, {
      headers: { 'Authorization': `Bearer ${this.token}` }
    });
    return response.json();
  }

  async getComponent(id) {
    const response = await fetch(`${this.baseURL}/api/components/${id}`, {
      headers: { 'Authorization': `Bearer ${this.token}` }
    });
    return response.json();
  }

  async getTokens(category = null) {
    const params = category ? `?category=${category}` : '';
    const response = await fetch(`${this.baseURL}/api/tokens${params}`, {
      headers: { 'Authorization': `Bearer ${this.token}` }
    });
    return response.json();
  }

  async getToken(id) {
    const response = await fetch(`${this.baseURL}/api/tokens/${id}`, {
      headers: { 'Authorization': `Bearer ${this.token}` }
    });
    return response.json();
  }
}

// Usage
const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');
const components = await api.getComponents({ type: 'button', status: 'active' });</code></pre>
            </div>

            <h3><i data-lucide="react"></i>React Integration</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>import { useState, useEffect } from 'react';

function useDesignSystem(baseURL, token) {
  const [components, setComponents] = useState([]);
  const [tokens, setTokens] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchData = async () => {
      try {
        const [componentsRes, tokensRes] = await Promise.all([
          fetch(`${baseURL}/api/components`, {
            headers: { 'Authorization': `Bearer ${token}` }
          }),
          fetch(`${baseURL}/api/tokens`, {
            headers: { 'Authorization': `Bearer ${token}` }
          })
        ]);

        const componentsData = await componentsRes.json();
        const tokensData = await tokensRes.json();

        setComponents(componentsData.components);
        setTokens(tokensData.tokens);
      } catch (error) {
        console.error('Failed to fetch design system data:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchData();
  }, [baseURL, token]);

  return { components, tokens, loading };
}</code></pre>
            </div>

            <h3><i data-lucide="layers"></i>Using Specific Components</h3>
            
            <h4>1. Fetch a Specific Component</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Get a specific component by ID
const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');

// Method 1: Using the API client
const component = await api.getComponent('component-id-here');

// Method 2: Direct fetch
const response = await fetch('http://localhost:3000/api/components/component-id-here', {
  headers: { 'Authorization': 'Bearer your-jwt-token' }
});
const component = await response.json();

console.log(component);
// {
//   _id: "component-id-here",
//   name: "Primary Button",
//   type: "button",
//   description: "Main call-to-action button",
//   code: {
//     react: "function PrimaryButton({ children, onClick }) { ... }",
//     html: "&lt;button class=\"btn-primary\"&gt;Click me&lt;/button&gt;"
//   },
//   styles: {
//     css: ".btn-primary { background: var(--accent-color); ... }"
//   }
// }</code></pre>
            </div>

            <h4>2. Render Component Code</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// React Component Renderer
function ComponentRenderer({ component }) {
  const [Component, setComponent] = useState(null);

  useEffect(() => {
    if (component?.code?.react) {
      // Dynamically evaluate React component code
      try {
        const componentCode = component.code.react;
        // Note: In production, use a proper code evaluation library
        // This is a simplified example
        const evalCode = new Function('React', componentCode);
        const DynamicComponent = evalCode(React);
        setComponent(() => DynamicComponent);
      } catch (error) {
        console.error('Failed to render component:', error);
      }
    }
  }, [component]);

  return (
    &lt;div&gt;
      {Component && &lt;Component /&gt;}
      {component?.styles?.css && (
        &lt;style&gt;{component.styles.css}&lt;/style&gt;
      )}
    &lt;/div&gt;
  );
}

// Usage
function App() {
  const [component, setComponent] = useState(null);
  const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');

  useEffect(() => {
    const loadComponent = async () => {
      const comp = await api.getComponent('primary-button-id');
      setComponent(comp);
    };
    loadComponent();
  }, []);

  return (
    &lt;div&gt;
      {component && &lt;ComponentRenderer component={component} /&gt;}
    &lt;/div&gt;
  );
}</code></pre>
            </div>

            <h4>3. HTML Component Renderer</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// HTML Component Renderer
function HTMLComponentRenderer({ component }) {
  const containerRef = useRef(null);

  useEffect(() => {
    if (containerRef.current && component) {
      // Inject HTML
      containerRef.current.innerHTML = component.code?.html || '';
      
      // Inject CSS
      if (component.styles?.css) {
        const style = document.createElement('style');
        style.textContent = component.styles.css;
        document.head.appendChild(style);
      }
    }
  }, [component]);

  return &lt;div ref={containerRef} /&gt;;
}

// Usage
function App() {
  const [component, setComponent] = useState(null);
  const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');

  useEffect(() => {
    const loadComponent = async () => {
      const comp = await api.getComponent('card-component-id');
      setComponent(comp);
    };
    loadComponent();
  }, []);

  return (
    &lt;div&gt;
      {component && &lt;HTMLComponentRenderer component={component} /&gt;}
    &lt;/div&gt;
  );
}</code></pre>
            </div>

            <h3><i data-lucide="palette"></i>Using Specific Tokens</h3>
            
            <h4>1. Fetch a Specific Token</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Get a specific token by ID
const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');

// Method 1: Using the API client
const token = await api.getToken('token-id-here');

// Method 2: Direct fetch
const response = await fetch('http://localhost:3000/api/tokens/token-id-here', {
  headers: { 'Authorization': 'Bearer your-jwt-token' }
});
const token = await response.json();

console.log(token);
// {
//   _id: "token-id-here",
//   name: "primary-color",
//   category: "color",
//   value: "#7e22ce",
//   description: "Primary brand color",
//   theme: "both",
//   lightValue: "#7e22ce",
//   darkValue: "#c084fc"
// }</code></pre>
            </div>

            <h4>2. Apply Token Values</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JSON</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Token Application Utility
class TokenManager {
  constructor(tokens = []) {
    this.tokens = tokens;
    this.tokenMap = new Map(tokens.map(token => [token.name, token]));
  }

  // Get token value with theme support
  getTokenValue(tokenName, theme = 'light') {
    const token = this.tokenMap.get(tokenName);
    if (!token) return null;

    if (token.theme === 'both' || token.theme === theme) {
      return theme === 'dark' ? token.darkValue : token.lightValue || token.value;
    }
    return token.value;
  }

  // Apply tokens to CSS custom properties
  applyTokensToCSS(theme = 'light') {
    const cssVars = {};
    this.tokens.forEach(token => {
      const value = this.getTokenValue(token.name, theme);
      if (value) {
        cssVars[`--${token.name}`] = value;
      }
    });
    return cssVars;
  }

  // Generate CSS string
  generateCSS(theme = 'light') {
    const cssVars = this.applyTokensToCSS(theme);
    return `:root { ${Object.entries(cssVars).map(([key, value]) => `${key}: ${value};`).join(' ')} }`;
  }
}

// Usage
async function initializeTokens() {
  const api = new DesignSystemAPI('http://localhost:3000', 'your-jwt-token');
  const tokens = await api.getTokens();
  
  const tokenManager = new TokenManager(tokens);
  
  // Apply tokens to document
  const cssString = tokenManager.generateCSS('light');
  const style = document.createElement('style');
  style.textContent = cssString;
  document.head.appendChild(style);
  
  return tokenManager;
}</code></pre>
            </div>

            <h4>3. React Hook for Tokens</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Custom hook for token management
function useTokens(baseURL, token) {
  const [tokens, setTokens] = useState([]);
  const [tokenManager, setTokenManager] = useState(null);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    const fetchTokens = async () => {
      try {
        const api = new DesignSystemAPI(baseURL, token);
        const tokensData = await api.getTokens();
        setTokens(tokensData.tokens);
        setTokenManager(new TokenManager(tokensData.tokens));
      } catch (error) {
        console.error('Failed to fetch tokens:', error);
      } finally {
        setLoading(false);
      }
    };

    fetchTokens();
  }, [baseURL, token]);

  const getTokenValue = useCallback((tokenName, theme = 'light') => {
    return tokenManager?.getTokenValue(tokenName, theme) || null;
  }, [tokenManager]);

  const applyTheme = useCallback((theme) => {
    if (tokenManager) {
      const cssString = tokenManager.generateCSS(theme);
      // Remove existing token styles
      const existingStyle = document.getElementById('design-system-tokens');
      if (existingStyle) {
        existingStyle.remove();
      }
      
      // Add new token styles
      const style = document.createElement('style');
      style.id = 'design-system-tokens';
      style.textContent = cssString;
      document.head.appendChild(style);
    }
  }, [tokenManager]);

  return { tokens, tokenManager, loading, getTokenValue, applyTheme };
}

// Usage in component
function App() {
  const { tokens, getTokenValue, applyTheme } = useTokens(
    'http://localhost:3000', 
    'your-jwt-token'
  );

  useEffect(() => {
    // Apply light theme by default
    applyTheme('light');
  }, [applyTheme]);

  const primaryColor = getTokenValue('primary-color', 'light');
  const spacing = getTokenValue('spacing-md', 'light');

  return (
    &lt;div style={{ 
      backgroundColor: primaryColor, 
      padding: spacing 
    }}&gt;
      Content with applied tokens
    &lt;/div&gt;
  );
}</code></pre>
            </div>

            <h3><i data-lucide="webpack"></i>Build Tool Integration</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// webpack.config.js
const DesignSystemPlugin = require('./plugins/design-system-webpack');

module.exports = {
  plugins: [
    new DesignSystemPlugin({
      apiUrl: 'http://localhost:3000',
      token: process.env.DS_TOKEN,
      outputPath: './src/design-system'
    })
  ]
};

// Plugin example
class DesignSystemPlugin {
  constructor(options) {
    this.options = options;
  }

  apply(compiler) {
    compiler.hooks.beforeRun.tapAsync('DesignSystemPlugin', async (compilation, callback) => {
      // Fetch components and tokens from API
      // Generate CSS and component files
      callback();
    });
  }
}</code></pre>
            </div>

            <h3><i data-lucide="lightbulb"></i>Best Practices & Usage Patterns</h3>
            
            <h4>1. Component Loading Strategy</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JSON</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Lazy load components as needed
class ComponentLoader {
  constructor(api) {
    this.api = api;
    this.cache = new Map();
  }

  async getComponent(id, forceRefresh = false) {
    if (!forceRefresh && this.cache.has(id)) {
      return this.cache.get(id);
    }

    const component = await this.api.getComponent(id);
    this.cache.set(id, component);
    return component;
  }

  // Preload commonly used components
  async preloadComponents(ids) {
    const promises = ids.map(id => this.getComponent(id));
    await Promise.all(promises);
  }

  // Clear cache when components are updated
  clearCache() {
    this.cache.clear();
  }
}

// Usage
const loader = new ComponentLoader(api);
await loader.preloadComponents(['primary-button', 'card', 'modal']);</code></pre>
            </div>

            <h4>2. Token Management Strategy</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">HTML</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Centralized token management
class DesignSystemManager {
  constructor(api) {
    this.api = api;
    this.tokenManager = null;
    this.components = new Map();
  }

  async initialize() {
    // Load all tokens at startup
    const tokens = await this.api.getTokens();
    this.tokenManager = new TokenManager(tokens);
    
    // Apply default theme
    this.tokenManager.applyTheme('light');
    
    return this;
  }

  async getComponent(id) {
    if (!this.components.has(id)) {
      const component = await this.api.getComponent(id);
      this.components.set(id, component);
    }
    return this.components.get(id);
  }

  getToken(name, theme = 'light') {
    return this.tokenManager?.getTokenValue(name, theme);
  }

  switchTheme(theme) {
    this.tokenManager?.applyTheme(theme);
  }
}

// Global instance
const designSystem = new DesignSystemManager(api);
await designSystem.initialize();</code></pre>
            </div>

            <h4>3. Error Handling & Fallbacks</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Robust error handling
class SafeDesignSystemAPI extends DesignSystemAPI {
  async getComponent(id, fallback = null) {
    try {
      return await super.getComponent(id);
    } catch (error) {
      console.warn(`Failed to load component ${id}:`, error);
      return fallback;
    }
  }

  async getToken(id, fallback = null) {
    try {
      return await super.getToken(id);
    } catch (error) {
      console.warn(`Failed to load token ${id}:`, error);
      return fallback;
    }
  }

  // Retry mechanism
  async getWithRetry(fetchFn, maxRetries = 3) {
    for (let i = 0; i < maxRetries; i++) {
      try {
        return await fetchFn();
      } catch (error) {
        if (i === maxRetries - 1) throw error;
        await new Promise(resolve => setTimeout(resolve, 1000 * (i + 1)));
      }
    }
  }
}</code></pre>
            </div>

            <h4>4. Performance Optimization</h4>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Optimized component rendering
function OptimizedComponentRenderer({ componentId, fallback }) {
  const [component, setComponent] = useState(null);
  const [loading, setLoading] = useState(true);
  const [error, setError] = useState(null);

  useEffect(() => {
    let mounted = true;
    
    const loadComponent = async () => {
      try {
        setLoading(true);
        const comp = await api.getComponent(componentId);
        
        if (mounted) {
          setComponent(comp);
          setError(null);
        }
      } catch (err) {
        if (mounted) {
          setError(err);
          console.error(`Failed to load component ${componentId}:`, err);
        }
      } finally {
        if (mounted) {
          setLoading(false);
        }
      }
    };

    loadComponent();
    
    return () => {
      mounted = false;
    };
  }, [componentId]);

  if (loading) return &lt;div&gt;Loading component...&lt;/div&gt;;
  if (error) return fallback || &lt;div&gt;Component not available&lt;/div&gt;;
  if (!component) return null;

  return &lt;ComponentRenderer component={component} /&gt;;
}</code></pre>
            </div>
        </div>

        <div id="examples" class="content-section">
            <h2><i data-lucide="code-2"></i>Examples</h2>
            
            <h3><i data-lucide="play"></i>Complete Component Example</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Create a complete button component
const buttonComponent = {
  name: "Primary Button",
  type: "button",
  description: "Main call-to-action button with hover effects",
  status: "active",
  tags: ["button", "primary", "cta", "interactive"],
  props: [
    {
      name: "children",
      type: "string",
      required: true,
      defaultValue: null
    },
    {
      name: "onClick",
      type: "function",
      required: false,
      defaultValue: null
    },
    {
      name: "disabled",
      type: "boolean",
      required: false,
      defaultValue: false
    }
  ],
  code: {
    react: `function PrimaryButton({ children, onClick, disabled = false }) {
  return (
    <button 
      className="btn-primary" 
      onClick={onClick}
      disabled={disabled}
    >
      {children}
    </button>
  );
}`,
    html: `<button class="btn-primary" onclick="handleClick()">
  Click me
</button>`
  },
  styles: {
    css: `.btn-primary {
  background: var(--accent-color);
  color: white;
  padding: 12px 24px;
  border: none;
  border-radius: 6px;
  cursor: pointer;
  font-weight: 600;
  transition: all 0.2s ease;
}

.btn-primary:hover {
  background: var(--accent-hover);
  transform: translateY(-1px);
}

.btn-primary:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}`
  },
  theme: "both",
  customTheme: {
    light: {
      bg: "#7e22ce",
      text: "#ffffff",
      accent: "#c084fc"
    },
    dark: {
      bg: "#c084fc",
      text: "#000000",
      accent: "#d8b4fe"
    }
  }
};</code></pre>
            </div>

            <h3><i data-lucide="palette"></i>Complete Token Example</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">JavaScript</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code>// Create a comprehensive color token system
const colorTokens = [
  {
    name: "primary-color",
    category: "color",
    value: "#7e22ce",
    description: "Primary brand color for main actions",
    tags: ["color", "primary", "brand"],
    theme: "both",
    lightValue: "#7e22ce",
    darkValue: "#c084fc"
  },
  {
    name: "secondary-color",
    category: "color",
    value: "#c084fc",
    description: "Secondary color for supporting elements",
    tags: ["color", "secondary", "support"],
    theme: "both",
    lightValue: "#c084fc",
    darkValue: "#d8b4fe"
  },
  {
    name: "spacing-xs",
    category: "spacing",
    value: "4px",
    description: "Extra small spacing for tight layouts",
    tags: ["spacing", "xs", "layout"]
  },
  {
    name: "spacing-sm",
    category: "spacing",
    value: "8px",
    description: "Small spacing for component padding",
    tags: ["spacing", "sm", "padding"]
  },
  {
    name: "font-size-base",
    category: "typography",
    value: "16px",
    description: "Base font size for body text",
    tags: ["typography", "font-size", "base"]
  },
  {
    name: "border-radius-sm",
    category: "corners",
    value: "4px",
    description: "Small border radius for subtle corners",
    tags: ["corners", "border-radius", "sm"]
  }
];</code></pre>
            </div>

            <h3><i data-lucide="terminal"></i>CLI Usage Examples</h3>
            <div class="code-block">
                <div class="code-block-header">
                    <span class="code-block-title">cURL</span>
                    <div class="code-block-actions">
                        <button class="copy-btn" onclick="copyCodeBlock(this)">
                            <i data-lucide="copy"></i>
                            Copy
                        </button>
                    </div>
                </div>
                <pre><code># Get all active components
curl -H "Authorization: Bearer $TOKEN" \
     "http://localhost:3000/api/components?status=active"

# Create a new component
curl -X POST http://localhost:3000/api/components \
  -H "Authorization: Bearer $TOKEN" \
  -H "Content-Type: application/json" \
  -d @component.json

# Export all tokens
curl -H "Authorization: Bearer $TOKEN" \
     "http://localhost:3000/api/tokens/export" \
     -o tokens.json

# Search for button components
curl -H "Authorization: Bearer $TOKEN" \
     "http://localhost:3000/api/components?search=button&type=button"

# Get tokens by category
curl -H "Authorization: Bearer $TOKEN" \
     "http://localhost:3000/api/tokens?category=color"</code></pre>
            </div>
        </div>

        <div class="content-section">
            <h2><i data-lucide="help-circle"></i>Need Help?</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h4><i data-lucide="github"></i>GitHub Issues</h4>
                    <p>Report bugs, request features, or ask questions on our GitHub repository</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="mail"></i>Email Support</h4>
                    <p>Contact our team directly for enterprise support and custom integrations</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="book"></i>Documentation</h4>
                    <p>Explore our comprehensive documentation and API reference guides</p>
                </div>
                <div class="feature-card">
                    <h4><i data-lucide="users"></i>Community</h4>
                    <p>Join our community forum to connect with other developers</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Theme toggle functionality
        function initializeTheme() {
            const savedTheme = localStorage.getItem('theme') || 'light';
            document.documentElement.setAttribute('data-theme', savedTheme);
            updateThemeButton(savedTheme);
        }

        function toggleTheme() {
            const currentTheme = document.documentElement.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            
            document.documentElement.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeButton(newTheme);
        }

        function updateThemeButton(theme) {
            const icon = document.getElementById('theme-icon');
            const text = document.getElementById('theme-text');
            
            if (theme === 'dark') {
                icon.setAttribute('data-lucide', 'sun');
                text.textContent = 'Light Mode';
            } else {
                icon.setAttribute('data-lucide', 'moon');
                text.textContent = 'Dark Mode';
            }
            
            // Reinitialize Lucide icons
            lucide.createIcons();
        }

        // Smooth scrolling for navigation
        function scrollToSection(sectionId) {
            const element = document.getElementById(sectionId);
            if (element) {
                element.scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'start' 
                });
                
                // Update active navigation item
                updateActiveNavItem(sectionId);
            }
        }

        // Update active navigation item
        function updateActiveNavItem(sectionId) {
            const navItems = document.querySelectorAll('.sidebar-nav-item');
            navItems.forEach(item => {
                item.classList.remove('active');
            });
            
            // Find the nav item that corresponds to this section
            const navItem = document.querySelector(`[onclick*="${sectionId}"]`);
            if (navItem) {
                navItem.classList.add('active');
            }
        }

        // Update active navigation on scroll
        function updateActiveNav() {
            const sections = document.querySelectorAll('.content-section');
            const navItems = document.querySelectorAll('.sidebar-nav-item');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop - 200; // Adjusted for sidebar
                const sectionHeight = section.clientHeight;
                if (window.pageYOffset >= sectionTop && window.pageYOffset < sectionTop + sectionHeight) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            if (currentSection) {
                updateActiveNavItem(currentSection);
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            initializeTheme();
            lucide.createIcons();
            
            // Update active navigation on scroll
            window.addEventListener('scroll', updateActiveNav);
            
            // Set initial active nav
            updateActiveNav();
            
            // Add click handlers for copy buttons
            setupCopyButtons();
        });

        // Copy functionality
        function setupCopyButtons() {
            const copyButtons = document.querySelectorAll('.copy-btn');
            copyButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const codeBlock = this.closest('.code-block');
                    const codeElement = codeBlock.querySelector('code');
                    const textToCopy = codeElement.textContent;
                    
                    copyToClipboard(textToCopy, this);
                });
            });
        }

        function copyToClipboard(text, button) {
            navigator.clipboard.writeText(text).then(function() {
                // Show success state
                const originalText = button.innerHTML;
                button.innerHTML = '<i data-lucide="check"></i> Copied!';
                button.classList.add('copied');
                
                // Reinitialize Lucide icons
                lucide.createIcons();
                
                // Reset after 2 seconds
                setTimeout(function() {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                    lucide.createIcons();
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy text: ', err);
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = text;
                document.body.appendChild(textArea);
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                
                // Show success state even for fallback
                const originalText = button.innerHTML;
                button.innerHTML = '<i data-lucide="check"></i> Copied!';
                button.classList.add('copied');
                lucide.createIcons();
                
                setTimeout(function() {
                    button.innerHTML = originalText;
                    button.classList.remove('copied');
                    lucide.createIcons();
                }, 2000);
            });
        }

        // Function to create code blocks with copy functionality
        function createCodeBlock(code, language = 'text', title = '') {
            return `
                <div class="code-block">
                    <div class="code-block-header">
                        <span class="code-block-title">${title || language}</span>
                        <div class="code-block-actions">
                            <button class="copy-btn" onclick="copyCodeBlock(this)">
                                <i data-lucide="copy"></i>
                                Copy
                            </button>
                        </div>
                    </div>
                    <pre><code>${escapeHtml(code)}</code></pre>
                </div>
            `;
        }

        function copyCodeBlock(button) {
            const codeBlock = button.closest('.code-block');
            const codeElement = codeBlock.querySelector('code');
            const textToCopy = codeElement.textContent;
            copyToClipboard(textToCopy, button);
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }
    </script>
</body>
</html> 